<div class="mat-display-2" style="text-align: center;">Regístrate</div>
<mat-card>
  <mat-card-content>
    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
      <mat-form-field appearance="fill">
        <mat-label>Email</mat-label>
        <input matInput formControlName="username" type="email" required>
        <mat-error *ngIf="registerForm.get('username')?.hasError('required')">
          El email es requerido.
        </mat-error>
        <mat-error *ngIf="registerForm.get('username')?.hasError('email')">
          Por favor ingrese un email válido.
        </mat-error>
      </mat-form-field>
      
      <mat-form-field appearance="fill">
        <mat-label>Contraseña</mat-label>
        <input matInput formControlName="password" [type]="hidePassword ? 'password' : 'text'" required>
        <button mat-icon-button matSuffix (click)="togglePasswordVisibility()">
          <mat-icon>{{ hidePassword ? 'visibility' : 'visibility_off' }}</mat-icon>
        </button>
        <mat-error *ngIf="registerForm.get('password')?.hasError('required')">
          La contraseña es requerida.
        </mat-error>
        <mat-error *ngIf="registerForm.get('password')?.hasError('minlength')">
          La contraseña debe tener al menos 6 caracteres.
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Rol</mat-label>
        <mat-select formControlName="role" required>
          <mat-option value="ROLE_USER">Usuario</mat-option>
          <mat-option value="ROLE_VET">Veterinario</mat-option>
        </mat-select>
        <mat-error *ngIf="registerForm.get('role')?.hasError('required')">
          El rol es requerido.
        </mat-error>
      </mat-form-field>

      <button mat-raised-button color="primary" type="submit" [disabled]="!registerForm.valid || isLoading">Registrar</button>
    </form>

    <div style="text-align: center; margin-top: 20px;">
      <a routerLink="/login">¿Ya tienes una cuenta? Inicia sesión</a>
    </div>
  </mat-card-content>
</mat-card>
